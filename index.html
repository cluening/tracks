<!DOCTYPE html>
<html>
  <head>
    <script src="Cursor.js"></script>
    <script src="TrackPort.js"></script>
    <script src="TrackPiece.js"></script>
    <script src="TrackList.js"></script>
    <script src="main.js"></script>
    <link rel="stylesheet" href="main.css" type="text/css" media="screen">
  </head>

  <body onload="onLoad()">
    <div class="pagewrapper">
      <div class="toolbarwrapper" id="toolbarwrapper">
        <button class="toolbarbutton pushright" style="order: 1000" onclick="displayFileSelect()">Import</button>
        <input type="file" single id="fileselector" style="display:none" onchange="importLayout()">
        <button class="toolbarbutton" style="order: 1001" onclick="displayExportDialog()">Export</button>
      </div>
      <div class="layoutwrapper" id="layoutwrapper">
        <canvas class="layout" id="layout" tabindex=1 width="320" height="240"></canvas>
      </div>
      <div class="statusbarwrapper">
        Pieces: <span id="piececount">0</span>
      </div>
    </div>
  
    <dialog id="exportdialog" onClose="exportDialogClosed()">
      <form method="dialog">
        <div class="dialogcontentwrapper">
          <div class="dialogtitlewrapper">
            Export Layout
          </div>
          <div>
            <span class="label"><label for="exportfilename">Export as:</label></span>
            <input autofocus required type="text" id="exportfilename" size=12 maxlength=255 placeholder="filename" />.tracks
          </div>
          <div class="dialogbuttonwrapper">
            <button formnovalidate value="cancel">Cancel</button>
            <button value="export">Export</button>
          </div>
        </div>
      </form>
    </dialog>

    <dialog id="infodialog">
      <form method="dialog">
        <div class="dialogcontentwrapper">
          <div class="dialogtitlewrapper">
            <span class="dialogtitle">Error</span>
          </div>
          <div>
            <span class="dialogbody">An error has occurred</span>
          </div>
          <div class="dialogbuttonwrapper">
            <button formnovalidate value="close">Close</button>
          </div>
        </div>
      </form>
    </dialog>

  </body>
</html>
